# jqGrid 的编辑之基本概念

[原文](http://www.trirand.com/jqgridwiki/doku.php?id=wiki:common_rules)

快速简单地编辑数据，应该是表格类控件最为重要的功能之一，jqGrid 支持以下三种编辑方式：

1. 单元格编辑
2. 行编辑
3. 表单编辑：创建一个包含指定行的字段的表单来进行编辑

## 概览

任何一种编辑方式都可在 colModel 中使用如下的属性：

 * editable
 * edittype
 * editoptions
 * editrules
 * formoptions ( 只在 **表单编辑** 中有效 )

 通用语法如下：

 ```js
<script>
    $("#grid_id").jqGrid({
        ...
        colModel: [ 
        ... 
            { name:'price', ..., editable:true, edittype:'text', editoptions:{...}, editrules:{...}, formoptions:{...} },
        ...
        ]
        ...
    });
</script>
```

### editable

布尔值，用来表示该列是否可以编辑，默认值是 false ，不可编辑。

值得注意的是，隐藏的列是不可以编辑的，但是他们被标记为了可编辑状态。

在行编辑和单元格编辑模式中，应该让他们显示 ( showCol ) 出来，从而可以编辑，而表单编辑则要用到属性 editrules 。

### edittype

编辑自动通常是创建一个文本框或者其他的表单元素。

这个值决定了所创建的表单元素的类型，可以有如下取值：

* text 

    默认值，编辑状态时，jqGrid会创建如下元素：

    ```html
    <input type="text" ...../>
    ```

    在属性 editoptions 中，我们可以设置上面元素的任意属性，例如：

    ```js
    ... editoptions: { size:10, maxlength: 15 }
    ```

    如上设置，那么 input 元素将会以如下形式呈现：

    ```html
    <input type="text" size="10" maxlength="15" />
    ```

    另外，jqGrid 会按照一定规则自动添加 id 和 name 属性。

* textarea

    编辑状态时，创建一个 textarea 元素。

    用法和 text 类似。

* checkbox
    
    显示为一个复选框。

    属性 editoptions 被用来设置选中和未选中的值，如下：

    ```js
    ...editoptions: { value: "Yes:No" }  // 第一个是选中状态的值
    ```

    如上设置，会创建如下文本框：

    ```html
    <input type="checkbox" value="Yes" offval="No".../>
    ```

    仍旧以上述元素为例，当 value 设置为 Yes 时，将会默认选中复选框,即会自动添加 checked 属性。

    这个值会会被传递到后台。

    editoptions 中如果没有设置 value 这个属性，jqGrid 为了创建复选框，将会寻找如下值 (false|0|no|off|undefined)，
    如果单元格内容不包含这些值，那么 value 就会被设置为单元格内容， offval 被设置为 off。

    例如，假如单元格内容为 true 时，那么

    ```html
    <input type="checkbox" value="true" offval="off" checked.../>
    ```

    最后，jqGrid 会自动添加 id 和 name 属性。

* select

    不用多说：

        <select> 
            <option value='val1'> Value1 </option> 
            <option value='val2'> Value2 </option> 
            ... 
            <option value='valn'> ValueN </option> 
        </select>

为了创建上面形式的 select ，一些参数是必要的，有三种形式：

    +   将 editoptions 中的 value 设置为字符串
        该 value 必须是以分号分割的键值对字符串，比如下面这种形式

            // 注意，结尾处没有分号
            editoptions: { value: “FE:FedEx; IN:InTime; TN:TNT” }

        将会创建

            <select> 
                <option value='FE'> FedEx </option> 
                <option value='IN'> InTime </option> 
                <option value='TN'> TNT </option> 
            </select>




* password

* button

* image

* file

* custom

### editoptions

### editrules

### formoptions

